{
  "version": 3,
  "sources": ["../../bottom-sheet-vue3/dist/index.mjs"],
  "sourcesContent": ["import { ref as p, inject as L, withModifiers as M, defineComponent as P, onUnmounted as C, onMounted as O, createVNode as c, watch as A, Teleport as R, Transition as q, mergeProps as $ } from \"vue\";\nconst N = \"data-bottom-sheet-stop\", w = {\n  type: Boolean,\n  default: !1\n}, B = {\n  threshold: {\n    type: Number,\n    default: 100\n  },\n  onlyHeaderSwipe: w,\n  noStretch: w,\n  noClickOutside: w,\n  noHeader: w\n}, T = Symbol(\"BottomSheet\");\nfunction I() {\n  const t = p(-1);\n  let i = 0;\n  const l = {\n    activeSheet: t,\n    id: () => ++i\n  };\n  return {\n    install(S) {\n      S.provide(T, l);\n    }\n  };\n}\nfunction Y() {\n  return L(T);\n}\nfunction _(t, i) {\n  return M(t, i);\n}\nconst j = P({\n  name: \"SheetRenderer\",\n  props: {\n    ...B,\n    id: {\n      type: Number,\n      required: !0\n    }\n  },\n  emits: {\n    updateElement: null,\n    close: null\n  },\n  setup(t, {\n    emit: i,\n    slots: l\n  }) {\n    const S = Y(), n = p(null);\n    C(() => i(\"updateElement\", null));\n    let f = !0;\n    const g = _(() => {\n      t.noClickOutside || !f || i(\"close\");\n    }, [\"self\"]), d = p(!1), r = p(0), s = p(0);\n    let o = !1, u = 0;\n    function h() {\n      n.value && (u = n.value.getBoundingClientRect().height);\n    }\n    function y() {\n      var e, a;\n      (e = n.value) == null || e.style.removeProperty(\"height\"), (a = n.value) == null || a.style.removeProperty(\"max-height\"), u = 0, d.value = !1, r.value = 0, s.value = 0;\n    }\n    function v(e) {\n      const a = n.value;\n      if (!a || !o)\n        return;\n      let m;\n      if (\"touches\" in e ? (m = e.touches[0].clientY, e.preventDefault()) : m = e.clientY, m === s.value) {\n        d.value = !1;\n        return;\n      }\n      d.value = !0, r.value = m - s.value, f = !1, r.value < 0 && !t.noStretch ? (a.style.setProperty(\"height\", `${u + Math.abs(r.value)}px`), a.style.setProperty(\"max-height\", \"none\")) : (a.style.removeProperty(\"height\"), a.style.removeProperty(\"max-height\"));\n    }\n    function E(e) {\n      e.target instanceof HTMLElement && e.target.closest(`[${N}]`) || (\"touches\" in e ? s.value = e.touches[0].clientY : s.value = e.clientY, o = !0);\n    }\n    function b() {\n      const e = n.value;\n      !o || !e || (r.value >= t.threshold ? i(\"close\") : setTimeout(() => {\n        f = !0, e.animate([{\n          height: e.style.height\n        }, {\n          height: `${u}px`\n        }], {\n          duration: 200,\n          easing: \"ease\"\n        }).addEventListener(\"finish\", () => {\n          e.style.removeProperty(\"height\"), e.style.removeProperty(\"max-height\");\n        });\n      }), d.value = !1, s.value = 0, r.value = 0, o = !1);\n    }\n    function k(e) {\n      t.onlyHeaderSwipe && E(e);\n    }\n    function H(e) {\n      t.onlyHeaderSwipe || E(e);\n    }\n    const x = [[\"resize\", y], [\"resize\", h], [\"mousemove\", v], [\"mouseup\", b], [\"touchend\", b], [\"touchcancel\", b], [\"touchmove\", v, {\n      passive: !1\n    }]];\n    return O(() => {\n      h();\n      for (const [e, a, m] of x)\n        window.addEventListener(e, a, m);\n    }), C(() => {\n      for (const [e, a] of x)\n        window.removeEventListener(e, a);\n    }), () => {\n      var e;\n      return c(\"div\", {\n        class: \"bottom-sheet-backdrop\",\n        \"data-sheet-active\": t.id === S.activeSheet.value ? \"\" : null,\n        draggable: !1,\n        onClick: g,\n        onMousedown: H,\n        onTouchstart: H\n      }, [c(\"div\", {\n        ref: n,\n        class: \"bottom-sheet\",\n        \"data-swiping\": d.value ? \"\" : null,\n        style: {\n          transform: `translateY(${Math.max(r.value, 0)}px)`\n        }\n      }, [t.noHeader ? null : c(\"div\", {\n        onMousedown: k,\n        onTouchstart: k,\n        class: \"bottom-sheet-header\"\n      }, [l.header ? l.header() : c(\"div\", {\n        class: \"bottom-sheet-header-bar\"\n      }, null)]), c(\"div\", {\n        class: \"bottom-sheet-body\"\n      }, [(e = l.default) == null ? void 0 : e.call(l)])])]);\n    };\n  }\n}), D = P({\n  name: \"Sheet\",\n  inheritAttrs: !1,\n  props: {\n    ...B,\n    visible: {\n      type: Boolean,\n      required: !0\n    }\n  },\n  emits: {\n    \"update:visible\": null\n  },\n  setup(t, {\n    attrs: i,\n    slots: l,\n    emit: S\n  }) {\n    const n = Y(), f = n.id();\n    let g = n.activeSheet.value;\n    A(() => t.visible, (o) => {\n      o ? (g = n.activeSheet.value, n.activeSheet.value = f) : n.activeSheet.value = g;\n    }, {\n      immediate: !0\n    });\n    function d() {\n      S(\"update:visible\", !1);\n    }\n    function r(o, u) {\n      const h = o.querySelector(\".bottom-sheet\"), y = window.getComputedStyle(o).backgroundColor;\n      o.animate([{\n        backgroundColor: \"rgba(0, 0, 0, 0)\"\n      }, {\n        backgroundColor: y\n      }], {\n        duration: 300,\n        easing: \"ease\"\n      });\n      const v = h.animate([{\n        transform: \"translateY(100%)\"\n      }, {\n        transform: \"translateY(0%)\"\n      }], {\n        duration: 300,\n        easing: \"ease\"\n      });\n      v.onfinish = u;\n    }\n    function s(o, u) {\n      const h = o.querySelector(\".bottom-sheet\"), y = window.getComputedStyle(o).backgroundColor;\n      o.animate([{\n        backgroundColor: y\n      }, {\n        backgroundColor: \"rgba(0, 0, 0, 0)\"\n      }], {\n        duration: 300,\n        easing: \"ease\"\n      });\n      const v = h.animate([{\n        transform: h.style.transform\n      }, {\n        transform: \"translateY(100%)\"\n      }], {\n        duration: 300,\n        easing: \"ease\"\n      });\n      v.onfinish = u;\n    }\n    return C(() => {\n      n.activeSheet.value = g;\n    }), () => c(R, {\n      to: \"body\"\n    }, {\n      default: () => [c(q, {\n        css: !1,\n        onEnter: r,\n        onLeave: s\n      }, {\n        default: () => [t.visible && c(j, $({\n          id: f,\n          onClose: d\n        }, i, {\n          noClickOutside: t.noClickOutside,\n          noHeader: t.noHeader,\n          noStretch: t.noStretch,\n          onlyHeaderSwipe: t.onlyHeaderSwipe,\n          threshold: t.threshold\n        }), l)]\n      })]\n    });\n  }\n});\nexport {\n  D as Sheet,\n  I as createBottomSheet\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;AACA,IAAM,IAAI;AAAV,IAAoC,IAAI;AAAA,EACtC,MAAM;AAAA,EACN,SAAS;AACX;AAHA,IAGG,IAAI;AAAA,EACL,WAAW;AAAA,IACT,MAAM;AAAA,IACN,SAAS;AAAA,EACX;AAAA,EACA,iBAAiB;AAAA,EACjB,WAAW;AAAA,EACX,gBAAgB;AAAA,EAChB,UAAU;AACZ;AAZA,IAYG,IAAI,OAAO,aAAa;AAC3B,SAAS,IAAI;AACX,QAAM,IAAI,IAAE,EAAE;AACd,MAAI,IAAI;AACR,QAAM,IAAI;AAAA,IACR,aAAa;AAAA,IACb,IAAI,MAAM,EAAE;AAAA,EACd;AACA,SAAO;AAAA,IACL,QAAQ,GAAG;AACT,QAAE,QAAQ,GAAG,CAAC;AAAA,IAChB;AAAA,EACF;AACF;AACA,SAAS,IAAI;AACX,SAAO,OAAE,CAAC;AACZ;AACA,SAAS,EAAE,GAAG,GAAG;AACf,SAAO,cAAE,GAAG,CAAC;AACf;AACA,IAAM,IAAI,gBAAE;AAAA,EACV,MAAM;AAAA,EACN,OAAO;AAAA,IACL,GAAG;AAAA,IACH,IAAI;AAAA,MACF,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EACA,OAAO;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,EACT;AAAA,EACA,MAAM,GAAG;AAAA,IACP,MAAM;AAAA,IACN,OAAO;AAAA,EACT,GAAG;AACD,UAAM,IAAI,EAAE,GAAG,IAAI,IAAE,IAAI;AACzB,gBAAE,MAAM,EAAE,iBAAiB,IAAI,CAAC;AAChC,QAAI,IAAI;AACR,UAAM,IAAI,EAAE,MAAM;AAChB,QAAE,kBAAkB,CAAC,KAAK,EAAE,OAAO;AAAA,IACrC,GAAG,CAAC,MAAM,CAAC,GAAG,IAAI,IAAE,KAAE,GAAG,IAAI,IAAE,CAAC,GAAG,IAAI,IAAE,CAAC;AAC1C,QAAI,IAAI,OAAI,IAAI;AAChB,aAAS,IAAI;AACX,QAAE,UAAU,IAAI,EAAE,MAAM,sBAAsB,EAAE;AAAA,IAClD;AACA,aAAS,IAAI;AACX,UAAI,GAAG;AACP,OAAC,IAAI,EAAE,UAAU,QAAQ,EAAE,MAAM,eAAe,QAAQ,IAAI,IAAI,EAAE,UAAU,QAAQ,EAAE,MAAM,eAAe,YAAY,GAAG,IAAI,GAAG,EAAE,QAAQ,OAAI,EAAE,QAAQ,GAAG,EAAE,QAAQ;AAAA,IACxK;AACA,aAAS,EAAE,GAAG;AACZ,YAAM,IAAI,EAAE;AACZ,UAAI,CAAC,KAAK,CAAC;AACT;AACF,UAAI;AACJ,UAAI,aAAa,KAAK,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS,EAAE,eAAe,KAAK,IAAI,EAAE,SAAS,MAAM,EAAE,OAAO;AAClG,UAAE,QAAQ;AACV;AAAA,MACF;AACA,QAAE,QAAQ,MAAI,EAAE,QAAQ,IAAI,EAAE,OAAO,IAAI,OAAI,EAAE,QAAQ,KAAK,CAAC,EAAE,aAAa,EAAE,MAAM,YAAY,UAAU,GAAG,IAAI,KAAK,IAAI,EAAE,KAAK,CAAC,IAAI,GAAG,EAAE,MAAM,YAAY,cAAc,MAAM,MAAM,EAAE,MAAM,eAAe,QAAQ,GAAG,EAAE,MAAM,eAAe,YAAY;AAAA,IAC9P;AACA,aAAS,EAAE,GAAG;AACZ,QAAE,kBAAkB,eAAe,EAAE,OAAO,QAAQ,IAAI,CAAC,GAAG,MAAM,aAAa,IAAI,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,IAAI;AAAA,IAC/I;AACA,aAAS,IAAI;AACX,YAAM,IAAI,EAAE;AACZ,OAAC,KAAK,CAAC,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,OAAO,IAAI,WAAW,MAAM;AAClE,YAAI,MAAI,EAAE,QAAQ,CAAC;AAAA,UACjB,QAAQ,EAAE,MAAM;AAAA,QAClB,GAAG;AAAA,UACD,QAAQ,GAAG,CAAC;AAAA,QACd,CAAC,GAAG;AAAA,UACF,UAAU;AAAA,UACV,QAAQ;AAAA,QACV,CAAC,EAAE,iBAAiB,UAAU,MAAM;AAClC,YAAE,MAAM,eAAe,QAAQ,GAAG,EAAE,MAAM,eAAe,YAAY;AAAA,QACvE,CAAC;AAAA,MACH,CAAC,GAAG,EAAE,QAAQ,OAAI,EAAE,QAAQ,GAAG,EAAE,QAAQ,GAAG,IAAI;AAAA,IAClD;AACA,aAAS,EAAE,GAAG;AACZ,QAAE,mBAAmB,EAAE,CAAC;AAAA,IAC1B;AACA,aAAS,EAAE,GAAG;AACZ,QAAE,mBAAmB,EAAE,CAAC;AAAA,IAC1B;AACA,UAAM,IAAI,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,aAAa,GAAG;AAAA,MAC/H,SAAS;AAAA,IACX,CAAC,CAAC;AACF,WAAO,UAAE,MAAM;AACb,QAAE;AACF,iBAAW,CAAC,GAAG,GAAG,CAAC,KAAK;AACtB,eAAO,iBAAiB,GAAG,GAAG,CAAC;AAAA,IACnC,CAAC,GAAG,YAAE,MAAM;AACV,iBAAW,CAAC,GAAG,CAAC,KAAK;AACnB,eAAO,oBAAoB,GAAG,CAAC;AAAA,IACnC,CAAC,GAAG,MAAM;AACR,UAAI;AACJ,aAAO,YAAE,OAAO;AAAA,QACd,OAAO;AAAA,QACP,qBAAqB,EAAE,OAAO,EAAE,YAAY,QAAQ,KAAK;AAAA,QACzD,WAAW;AAAA,QACX,SAAS;AAAA,QACT,aAAa;AAAA,QACb,cAAc;AAAA,MAChB,GAAG,CAAC,YAAE,OAAO;AAAA,QACX,KAAK;AAAA,QACL,OAAO;AAAA,QACP,gBAAgB,EAAE,QAAQ,KAAK;AAAA,QAC/B,OAAO;AAAA,UACL,WAAW,cAAc,KAAK,IAAI,EAAE,OAAO,CAAC,CAAC;AAAA,QAC/C;AAAA,MACF,GAAG,CAAC,EAAE,WAAW,OAAO,YAAE,OAAO;AAAA,QAC/B,aAAa;AAAA,QACb,cAAc;AAAA,QACd,OAAO;AAAA,MACT,GAAG,CAAC,EAAE,SAAS,EAAE,OAAO,IAAI,YAAE,OAAO;AAAA,QACnC,OAAO;AAAA,MACT,GAAG,IAAI,CAAC,CAAC,GAAG,YAAE,OAAO;AAAA,QACnB,OAAO;AAAA,MACT,GAAG,EAAE,IAAI,EAAE,YAAY,OAAO,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAAA,IACvD;AAAA,EACF;AACF,CAAC;AAvGD,IAuGI,IAAI,gBAAE;AAAA,EACR,MAAM;AAAA,EACN,cAAc;AAAA,EACd,OAAO;AAAA,IACL,GAAG;AAAA,IACH,SAAS;AAAA,MACP,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EACA,OAAO;AAAA,IACL,kBAAkB;AAAA,EACpB;AAAA,EACA,MAAM,GAAG;AAAA,IACP,OAAO;AAAA,IACP,OAAO;AAAA,IACP,MAAM;AAAA,EACR,GAAG;AACD,UAAM,IAAI,EAAE,GAAG,IAAI,EAAE,GAAG;AACxB,QAAI,IAAI,EAAE,YAAY;AACtB,UAAE,MAAM,EAAE,SAAS,CAAC,MAAM;AACxB,WAAK,IAAI,EAAE,YAAY,OAAO,EAAE,YAAY,QAAQ,KAAK,EAAE,YAAY,QAAQ;AAAA,IACjF,GAAG;AAAA,MACD,WAAW;AAAA,IACb,CAAC;AACD,aAAS,IAAI;AACX,QAAE,kBAAkB,KAAE;AAAA,IACxB;AACA,aAAS,EAAE,GAAG,GAAG;AACf,YAAM,IAAI,EAAE,cAAc,eAAe,GAAG,IAAI,OAAO,iBAAiB,CAAC,EAAE;AAC3E,QAAE,QAAQ,CAAC;AAAA,QACT,iBAAiB;AAAA,MACnB,GAAG;AAAA,QACD,iBAAiB;AAAA,MACnB,CAAC,GAAG;AAAA,QACF,UAAU;AAAA,QACV,QAAQ;AAAA,MACV,CAAC;AACD,YAAM,IAAI,EAAE,QAAQ,CAAC;AAAA,QACnB,WAAW;AAAA,MACb,GAAG;AAAA,QACD,WAAW;AAAA,MACb,CAAC,GAAG;AAAA,QACF,UAAU;AAAA,QACV,QAAQ;AAAA,MACV,CAAC;AACD,QAAE,WAAW;AAAA,IACf;AACA,aAAS,EAAE,GAAG,GAAG;AACf,YAAM,IAAI,EAAE,cAAc,eAAe,GAAG,IAAI,OAAO,iBAAiB,CAAC,EAAE;AAC3E,QAAE,QAAQ,CAAC;AAAA,QACT,iBAAiB;AAAA,MACnB,GAAG;AAAA,QACD,iBAAiB;AAAA,MACnB,CAAC,GAAG;AAAA,QACF,UAAU;AAAA,QACV,QAAQ;AAAA,MACV,CAAC;AACD,YAAM,IAAI,EAAE,QAAQ,CAAC;AAAA,QACnB,WAAW,EAAE,MAAM;AAAA,MACrB,GAAG;AAAA,QACD,WAAW;AAAA,MACb,CAAC,GAAG;AAAA,QACF,UAAU;AAAA,QACV,QAAQ;AAAA,MACV,CAAC;AACD,QAAE,WAAW;AAAA,IACf;AACA,WAAO,YAAE,MAAM;AACb,QAAE,YAAY,QAAQ;AAAA,IACxB,CAAC,GAAG,MAAM,YAAE,UAAG;AAAA,MACb,IAAI;AAAA,IACN,GAAG;AAAA,MACD,SAAS,MAAM,CAAC,YAAE,YAAG;AAAA,QACnB,KAAK;AAAA,QACL,SAAS;AAAA,QACT,SAAS;AAAA,MACX,GAAG;AAAA,QACD,SAAS,MAAM,CAAC,EAAE,WAAW,YAAE,GAAG,WAAE;AAAA,UAClC,IAAI;AAAA,UACJ,SAAS;AAAA,QACX,GAAG,GAAG;AAAA,UACJ,gBAAgB,EAAE;AAAA,UAClB,UAAU,EAAE;AAAA,UACZ,WAAW,EAAE;AAAA,UACb,iBAAiB,EAAE;AAAA,UACnB,WAAW,EAAE;AAAA,QACf,CAAC,GAAG,CAAC,CAAC;AAAA,MACR,CAAC,CAAC;AAAA,IACJ,CAAC;AAAA,EACH;AACF,CAAC;",
  "names": []
}
